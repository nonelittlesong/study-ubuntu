* `[[]]` 是关键字。
* `[[]]` 比 `test` 好。  

用法：  
```
[[ expression ]]
```
`[[]]` 和 `expression` 之间的空格是必须的。  


# 优化
* 不需要用双引号`""`把变量名包围起来。
* 不需要，且不能对 `>`、`<` 转义。

```sh
#!/bin/bash

read str1
read str2

if [[ -z $str1 ]] || [[ -z $str2 ]]  #不需要对变量名加双引号
then
    echo "字符串不能为空"
elif [[ $str1 < $str2 ]]  #不需要也不能对 < 进行转义
then
    echo "str1 < str2"
else
    echo "str1 >= str2"
fi
```

# 逻辑运算

| test或\[] | 对否 | \[\[]] | 对否 |
| --- | --- | --- | --- |
| `[ -z "$str1" ] \|\| [ -z "$str2" ]` | √ | `[[ -z $str1 ]] \|\| [[ -z $str2 ]]` | √ |
| `[ -z "$str1" -o -z "$str2" ]` | √ | `[[ -z $str1 -o -z $str2 ]]` | × |
| `[ -z $str1 \|\| -z $str2 ]` | × | `[[ -z $str1 \|\| -z $str2 ]]` | √ |


# 正则
用 `=~` 检测字符串是否符合某个正则式：  
```
[[ str =~ regex ]]
```

# 总结
if 中：  
用 `(())` 处理数字，用 `[[]]` 处理字符串。  
